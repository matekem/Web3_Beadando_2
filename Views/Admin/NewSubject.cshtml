@page
@using Microsoft.EntityFrameworkCore
@using Web3_Beadando.Areas.Identity.Data
@using Web3_Beadando.Services
@model SchoolService



<h1>New Subject</h1>
@*
<!--@using(Html.BeginForm("NewSubject", "Admin", FormMethod.Post))
{
        <div class="form-group">
            <label for="subjectName">Subject name:</label>
            @Html.TextBoxFor(x => x.Name, new {@class="form-control", placeholder="Subject"})
        </div>

             <div class="form-group">
                <label for="subjectName">Teacher name:</label>
            @Html.TextBoxFor(x => x.Teacher.FullName, new { @class = "form-control", placeholder = "Teacher"})
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
}

*@
<form method="post" asp-action="NewSubject" asp-controller="Admin">
    <div class="form-group">
        <label for="subjectName">Subject Name:</label>
        <input type="text" class="form-control" id="subjectName" name="SubjectName" required>
    </div>

    <div class="form-group">
        <label for="instructorName">Teacher Name:</label>
        
        <select class="form-control" id="teacherSelect" name="TeacherId" required>
            @{
                SchoolService schoolService = new();
                var teachers = schoolService.teachers;

            if(teachers == null)
            {
                    <option>No teachers available</option>
            }else{
                    foreach (var teacher in teachers)
                    {
                        <option value="@teacher.Id">@teacher.FullName</option>
                    }
            }

            
         }
</select>
    </div>
          <input type="submit" />

</form> 
    
